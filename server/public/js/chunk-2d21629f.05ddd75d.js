(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21629f"],{c0fb:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"modal fade errorModal",attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(0),e("div",{staticClass:"modal-body"},[e("p",{staticClass:"h3"},[t._v(t._s(t.msg))])]),t._m(1)])])]),e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-sm-6"},[e("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(s){var a=s.invalid;return[e("form",{on:{submit:function(s){return s.preventDefault(),t.signin()}}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Email")]),e("ValidationProvider",{attrs:{rules:"required|email",name:"Email"},scopedSlots:t._u([{key:"default",fn:function(s){var a=s.errors;return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"email",id:"exampleInputEmail1",placeholder:"請輸入 email"},domProps:{value:t.user.email},on:{input:function(s){s.target.composing||t.$set(t.user,"email",s.target.value)}}}),e("div",{staticClass:"text-danger pt-1"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"password"}},[t._v("密碼")]),e("ValidationProvider",{attrs:{rules:"required",name:"密碼"},scopedSlots:t._u([{key:"default",fn:function(s){var a=s.errors;return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"請輸入密碼"},domProps:{value:t.user.password},on:{input:function(s){s.target.composing||t.$set(t.user,"password",s.target.value)}}}),e("div",{staticClass:"text-danger pt-1"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"text-right mt-3"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:a}},[t._v(" 登入 ")])])])]}}])})],1)])])},r=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" 關閉 ")])])}],i=(e("96cf"),e("1da1")),n=e("1157"),o=e.n(n),l={name:"Login",metaInfo:{title:"登入"},data:function(){return{user:{email:"",password:""},msg:"",success:"",isLoading:!1,loadingbgColor:"#fff",loadingColor:"#000",error:"",session:""}},methods:{signin:function(){var t=this,s="/api/auth/login",e=this;this.$http.post(s,e.user).then((function(s){s.data.success?(t.$session.start(),t.$session.set("jwt",s.data.token),e.$router.push({name:"Archives"})):(e.success=s.data.success,e.msg=s.data.msg,o()(".errorModal").modal("show"))})).catch((function(s){t.error=s.message}))},userInsert:function(){this.session=this.$session.get("jwt"),void 0!==this.session&&(console.log("inster true"),this.$router.push({name:"Archives"}))}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:t.userInsert();case 1:case"end":return s.stop()}}),s)})))()}},d=l,u=e("2877"),c=Object(u["a"])(d,a,r,!1,null,null,null);s["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d21629f.05ddd75d.js.map